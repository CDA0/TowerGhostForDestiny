<div id="container_<%= id %>">
	<p data-bind="visible: type == 'MaxLight'" style="display:none;">
		This tool is meant as a planner to help guide you in finding what gear to invest your time and resources in infusing to achieve your desirable stat distributions.<br>
	</p>
	<p data-bind="visible: type == 'Custom'" style="display:none;">
		This tool is meant as an explorer to help you in finding what gear you can mix and match to achieve your desirable stat distributions.<br>
	</p>
	<hr>
	<div data-bind="visible: foundFirstSet().length == 0" style="display:none;">
		Currently this character does not have any armor that can be infused to <span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span> and provide
		enough stat points to reach tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span>.<br>
		
		Provided below is the best scoring armor set this character has, for each item the <strong>first number</strong> listed indicates how many points the item currently has, 
		the <strong>second percentage</strong> indicates it's total potential compared to a perfect stat roll once infused to max light level. 
		
		<div data-bind="with: firstSet">
			Currently this gear (once a certain piece is replaced) is <span class="label label-default" data-bind="text: (tgd.maxTierPointsPossible - score.toString().split('.')[1])"></span> points away from reaching max tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span>.
			Please ensure that your armor pieces are all at least <span class="label label-default">90%</span> to be able to use this tool.<br>
			
			<strong>Score</strong>: <span data-bind="text: score"></span><br>
			<strong>Tiers</strong>: <span data-bind="text: statTiers"></span><br>
			<strong>Stats</strong>: <span data-bind="text: statValues"></span><br>
			<hr>
			<div data-bind="foreach: { data: set, as: 'item' }" class="row">
				<div class="col-xs-8 col-md-6 col-sd-4 col-lg-3">
					<div class="col-xs-24">
						<a class="itemLink" data-bind="attr: { itemId: item.id, instanceId: item._id, href: item.href }">
							<img class="itemImage" data-bind="itemImageHandler: item.icon" style="padding: 2px; width:48px;">
						</a>						
					</div>
					<div class="col-xs-24">
						<span data-bind="text: item.getValue('MaxLightCSP')"></span>/<span data-bind="text: item.getValue('MaxLightPercent')"></span>%
					</div>
				</div>
			</div>
		</div>
	</div>
	<div data-bind="visible: foundFirstSet().length > 0" style="display:none;">
		<div data-bind="visible: type == 'MaxLight'" style="display:none;">
			The gear listed within has the <strong>highest potential to reach tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span> 
			at <span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span> Light Level</strong>.
			From the selected items the <span class="label label-default" data-bind="text: unleveledBucketTypes">{Helmets, Boots, Chest}</span> are still not 
			<span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span>. 
		</div>
		Click on View Help for usage information on how this tool works.<br>
		<input type="button" class="btn btn-info" value="View Help" data-bind="click: function(){ $('.maxLightHelp').toggle(); }">
		<p class="maxLightHelp" style="display:none;">
			The <strong>first number</strong> listed indicates how many points the item currently has, 
			the <strong>second percentage</strong> indicates it's total potential compared to a perfect stat roll once infused to max light level.<br>
			<strong>Blue Border</strong> - Indicates it is one of the items listed in the possible combinations table.<br>
			<strong>Green Border</strong> - Indicates the item is currently selected.<br>
			<span data-bind="visible: type == 'MaxLight'" style="display:none;"><strong>Red Border</strong> - Indicates the item cannot be used to maintain the current max tier.<br></span>
			<strong>Yellow Border</strong> - Indicates the item is a potential candidate that may be used to alter your set.<br>
			<strong>Tip</strong> You may also unselect an item with a green border to indicate you want the tool to calculate all items for that armor type.
			<hr>
		</p>
		<div class="row">
			<table class="table table-striped table-hover ">
				<thead>
					<tr class="font-bold">
					  <th class="col-xs-3">#</th>
					  <th class="col-xs-4">Score</th>
					  <th class="col-xs-3">Stats</th>
					  <th class="col-xs-3">Tiers</th>
					  <th class="col-xs-11">Perks</th>
					</tr>
				</thead>
				<tbody data-bind="foreach: { data: maxSets, as: 'combo' }">
					<tr data-bind="attr:{id:'details_'+combo.id}">
					  <td class="col-xs-3">
							<input type="Button" class="btn btn-sm btn-default" value="View" data-bind="click: function(){ $('#armor_' + combo.id).show(); $('#details_' + combo.id).hide(); }">
							<input type="Button" class="btn btn-sm btn-default" value="Save" data-bind="click: $root.saveSelectedCombo.bind(combo), visible: $root.maxSets().length > 1" style="display:none;">
							<input type="Button" class="btn btn-sm btn-default" value="Equip" data-bind="click: $root.equipSelectedCombo.bind(combo), visible: $root.maxSets().length > 1" style="display:none;">
					  </td>
					  <td class="col-xs-4" data-bind="text: combo.score"></td>
					  <td class="col-xs-3" data-bind="html: combo.statValues"></td>
					  <td class="col-xs-3" data-bind="html: combo.statTiers" width="60"></td>
					  <td class="col-xs-11">
						<div data-bind="foreach: { data: combo.perks, as: 'perk' }">
							<div class="font-smaller-1">
								<span data-bind="visible: !isMobile" style="display:none;">
									<img width="24" data-bind="itemImageHandler: perk.iconPath" class="perkImage"> 
									<span class="text-muted" data-bind="text: perk.bucketType"></span>:
								</span>
								<span class="text-primary" data-bind="text: perk.name"></span>
							</div>
						</div>
					  </td>
					</tr>
					<tr style="display:none" data-bind="attr:{id:'armor_'+combo.id}">
						<td colspan="5">
							<div class="col-xs-5">
								<input type="Button" class="btn btn-sm btn-default" value="Hide" data-bind="click: function(){ $('#armor_' + combo.id).hide(); $('#details_' + combo.id).show(); }">
								<input type="Button" class="btn btn-sm btn-default" value="Help" data-bind="click: function(){ $('#help_' + combo.id).toggle(); }">
							</div>
							<div class="col-xs-19" data-bind="foreach: { data: combo.set, as: 'item' }">
								<div class="col-xs-8 col-sm-6 col-md-4 col-lg-3">
									<a class="itemLink" data-bind="attr: { itemId: item.id, instanceId: item._id, href: item.href }, click: function(){ return false }">
										<img class="itemImage" data-bind="itemImageHandler: item.icon, style: { border: '2px solid ' + (item.bonusStatOn == item.activeRoll.bonusOn ? 'green' : 'orange') }" style="padding: 2px; width:48px;">
									</a>						
								</div>
							</div>
							<div class="col-xs-24" style="display:none;" data-bind="attr:{id:'help_'+combo.id}">
								<strong>Orange Border</strong> - Need to manually toggle the stats to the other node in-game.<br>						
								<strong>Green Border</strong> - Item is set up properly to achieve those stat distributions provided.
							</div>
						</td>
					</tr>
					<tr style="display:none"><td></td></tr>
				</tbody>
			</table>
		</div> 
		<div data-bind="foreach: { data: armorGroups, as: 'armor' }">
			<div class="panel panel-default">
			  <div class="panel-heading"><span data-bind="text: armor.bucketType"></span> </div>
			  <div class="panel-body">
					<div class="row" data-bind="foreach: { data: armor.items, as: 'item' }">
						<div class="col-xs-8 col-sm-6 col-md-4 col-lg-3">
							<div class="col-xs-24">
								<a class="itemLink" data-bind="css: item.css2, attr: { itemId: item.id, instanceId: item._id, href: item.href }, click: select">
									<img class="itemImage" data-bind="itemImageHandler: item.icon, css: item.css" style="padding: 2px;">
								</a>						
							</div>
							<div class="col-xs-24">
								<span data-bind="text: item.getValue('MaxLightCSP')"></span>/<span data-bind="text: item.getValue('MaxLightPercent')"></span>%
							</div>
						</div>
					</div>
			  </div>
			</div>
		</div>
	</div>	
</div>	