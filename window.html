<!DOCTYPE html>
<html>
  <head>
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />	
    <title>Destiny Item Viewer</title>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
	
	<script type="text/javascript" src="scripts/bungie.js"></script>
    <script src="/js/dependencies/jquery.js"></script>
    <script src="/js/dependencies/bootstrap.min.js"></script>
    <script src="/js/dependencies/jquery-ui.js"></script>
    <script src="/js/dependencies/jquery.cookie.js"></script>
    <script src="/js/dependencies/knockout.js"></script>
    <script src="/js/dependencies/underscore-min.js"></script>
    <script src="/js/app.js"></script>

  </head>

  <body>
	<script type="text/html" id="sections-template">
		<div class="title" data-bind="text: $data.split('.')[1]"></div>
		<div class="row">
			<div class="col-lg-2" data-bind="visible: character.id != 'Vault'">
				<span class="item" data-bind="with: character.itemEquipped($data.split('.')[0], $data.split('.')[1])">
					<img data-bind="attr: { src: icon }">
				</span>
			</div>
			<div class="col-lg-7">
				<div class="item-Section" data-bind="foreach: { data: character.get($data.split('.')[0], $data.split('.')[1]) }">								
					<span class="item">
						<img data-bind="attr: { src: icon }">
					</span>
				</div>
			</div>
		</div>	
	</script>
  		<div class="content" id="storage" data-bind="foreach: { data: orderedCharacters, as: 'character' }">
			<div class="storage">
				<div class="character">
				  <div class="character-box" data-bind="style: { backgroundImage: background }">
					<div class="emblem" data-bind="style: { backgroundImage: icon }"></div>
					<div class="class" data-bind="text: classType"></div>
					<div class="level" data-bind="text: level" style="color: rgb(245, 220, 86)"></div>
				  </div>				
				</div>
				<div>
					<div class="items" data-type="item">
					  <div>
						<div class="title">Weapons (<span data-bind="text: character.weapons().length"></span>)</div>
						<div class="item-Weapon sections" data-bind="template: { name: 'sections-template', foreach: ['weapons.Primary','weapons.Special','weapons.Heavy'] }">
						</div>
					  </div>
					  <div>
						<div class="title">Armor</div>
						<div class="item-Armor sections" data-bind="template: { name: 'sections-template', foreach: ['armor.Helmet','armor.Gauntlet','armor.Chest', 'armor.Boots'] }">
						</div>
					  </div>
					  <div>
						<div class="title">Styling</div>
						<div class="item-Styling sections" data-bind="template: { name: 'sections-template', foreach: ['items.Shader','items.Emblem','items.Ship','items.Sparrow'] }">							
						</div>
					  </div>
					  <div><div class="title">Miscellaneous</div><div class="item-Miscellaneous sections"></div></div>
					  <div><div class="title">Postmaster</div><div class="item-Postmaster sections"></div></div>
					</div>
				</div>
			</div>
		</div>
  </body>
</html>
